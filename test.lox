var a = 0;
var b = 1;

while (a < 10000) {
  print a;
  var prev = a;
  a = b;
  b = prev + b;
}

for (var a=0; a <= 100; a = a + 1)
    print a;

fun sayHi(first, last) {
  print "Hi, " + first + " " + last + "!";
  return 0;
}

sayHi("Dear", "Reader");

fun makePoint(x, y) {
  fun closure(method) {
    if (method == "x") return x;
    if (method == "y") return y;
    print "unknown method " + method;
  }

  return closure;
}

var point = makePoint(2, 3);
print point("x"); // "2".
print point("y"); // "3".

// 动态作用域测试
var a = "global";
{
  fun showA() {
    print a;
  }

  showA();  // global
  var a = "block";
  showA();  // block
}

// 静态作用域测试
// var a = "outer";
// print a;
// {
//  var a = a;
//  print a;
// }

class THIS {
    method(){
        return "method";
    }
}

print THIS;

var a = THIS();
print a;

class Bacon {
  eat() {
    print "Crunch crunch crunch!";
  }
}

Bacon().eat(); // Prints "Crunch crunch crunch!".

class Cls {}

fun function(arg){
  print "called function with " + arg;
}

var C = Cls();
C.function = function;
C.function("arg");


class Cake {
  taste() {
    var adjective = "delicious";
    print "The " + this.flavor + " cake is " + adjective + "!";
  }
}

var cake = Cake();
cake.flavor = "German chocolate";
cake.taste(); // Prints "The German chocolate cake is delicious!".